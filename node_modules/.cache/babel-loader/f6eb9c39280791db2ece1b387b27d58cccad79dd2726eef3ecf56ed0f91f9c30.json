{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Usuario\\\\Desktop\\\\ProyectoFinalReact\\\\src\\\\components\\\\Checkout\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createOrdenCompra, getOrdenCompra } from '../../service/firebase/firestore/orders';\nimport { getProducts, getProductsById } from \"../../service/firebase/firestore/products\";\nimport { CartContext } from '../../context/CartContext';\nimport Swal from \"sweetalert2\";\nimport './Checkout.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Checkout = () => {\n  _s();\n  const {\n    getTotal,\n    cart,\n    clearCart\n  } = useContext(CartContext);\n  const datosFormulario = React.useRef();\n  let navigate = useNavigate();\n  const consultarFormulario = e => {\n    e.preventDefault();\n    const datForm = new FormData(datosFormulario.current);\n    const cliente = Object.fromEntries(datForm);\n    const aux = [...cart];\n    aux.forEach(prodCarrito => {\n      getProducts(prodCarrito.id).then(prod => {\n        if (prod.stock >= prodCarrito.quantity) {\n          prod.stock -= prodCarrito.quantity;\n          getProductsById(prodCarrito.id, prod);\n        } else {}\n      });\n    });\n    createOrdenCompra(cliente, getTotal, new Date().toISOString()).then(ordenCompra => {\n      getOrdenCompra(ordenCompra.id).then(item => {\n        Swal.fire('Compra finalizada', `¡Muchas gracias por su compra, su orden es ${item.id}!`, 'success');\n        clearCart();\n        e.target.reset();\n      }).catch(error => {\n        Swal.fire('Error', `Hubo un error con su orden. Vuelva a intentarlo`, 'error');\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: consultarFormulario,\n      ref: datosFormulario,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"nombre\",\n          className: \"formData\",\n          children: \"Nombre y Apellido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"formDataNew\",\n          name: \"nombre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          className: \"formData\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"formDataNew\",\n          name: \"email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email2\",\n          className: \"formData\",\n          children: \"Repetir Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          className: \"formDataNew\",\n          name: \"email2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"dni\",\n          className: \"formData\",\n          children: \"DNI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"formDataNew\",\n          name: \"dni\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"celular\",\n          className: \"formData\",\n          children: \"Numero telefonico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          className: \"formDataNew\",\n          name: \"celular\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"direccion\",\n          className: \"formData\",\n          children: \"Direcci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"formDataNew\",\n          name: \"direccion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"buttonConfirm\",\n        type: \"submit\",\n        children: \"Generar Orden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(Checkout, \"VB9iscFct2JApe8+2fPVcVQxBmE=\", false, function () {\n  return [useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useContext","useNavigate","createOrdenCompra","getOrdenCompra","getProducts","getProductsById","CartContext","Swal","jsxDEV","_jsxDEV","Checkout","_s","getTotal","cart","clearCart","datosFormulario","useRef","navigate","consultarFormulario","e","preventDefault","datForm","FormData","current","cliente","Object","fromEntries","aux","forEach","prodCarrito","id","then","prod","stock","quantity","Date","toISOString","ordenCompra","item","fire","target","reset","catch","error","className","children","onSubmit","ref","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","name","_c","$RefreshReg$"],"sources":["C:/Users/Usuario/Desktop/ProyectoFinalReact/src/components/Checkout/Checkout.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createOrdenCompra,getOrdenCompra } from '../../service/firebase/firestore/orders';\nimport { getProducts, getProductsById } from \"../../service/firebase/firestore/products\";\nimport { CartContext } from '../../context/CartContext';\nimport Swal from \"sweetalert2\"\nimport './Checkout.css'\n\nconst Checkout = () => {\n    const {getTotal, cart, clearCart} = useContext(CartContext)\n    const datosFormulario = React.useRef()\n    let navigate = useNavigate()\n\n    const consultarFormulario = (e) => {\n        e.preventDefault()\n        const datForm = new FormData(datosFormulario.current)\n        const cliente = Object.fromEntries(datForm)\n\n        const aux = [...cart]\n\n        aux.forEach(prodCarrito => {\n            getProducts(prodCarrito.id).then(prod => {\n                if(prod.stock >= prodCarrito.quantity) {\n                    prod.stock -= prodCarrito.quantity\n                    getProductsById(prodCarrito.id, prod)\n                } else {\n                }\n            })\n        })\n\n        createOrdenCompra(cliente, getTotal , new Date().toISOString()).then(ordenCompra => {\n            getOrdenCompra(ordenCompra.id)\n            .then(item => {\n                Swal.fire(\n                    'Compra finalizada',\n                    `¡Muchas gracias por su compra, su orden es ${item.id}!`,\n                    'success'\n                )\n                clearCart()\n                e.target.reset()\n            }).catch(error => {\n                Swal.fire(\n                    'Error',\n                    `Hubo un error con su orden. Vuelva a intentarlo`,\n                    'error'\n                )\n            })\n            \n        })\n        \n    }\n\n    return (\n        <div className=\"container\">\n            <form onSubmit={consultarFormulario} ref={datosFormulario}>\n                <div className=\"form\">\n                    <label htmlFor=\"nombre\" className=\"formData\">Nombre y Apellido</label>\n                    <input type=\"text\" className=\"formDataNew\" name=\"nombre\" />\n                </div>\n                <div className=\"form\">\n                    <label htmlFor=\"email\" className=\"formData\">Email</label>\n                    <input type=\"email\" className=\"formDataNew\" name=\"email\" />\n                </div>\n                <div className=\"form\">\n                    <label htmlFor=\"email2\" className=\"formData\">Repetir Email</label>\n                    <input type=\"email\" className=\"formDataNew\" name=\"email2\" />\n                </div>\n                <div className=\"form\">\n                    <label htmlFor=\"dni\" className=\"formData\">DNI</label>\n                    <input type=\"number\" className=\"formDataNew\" name=\"dni\" />\n                </div>\n                <div className=\"form\">\n                    <label htmlFor=\"celular\" className=\"formData\">Numero telefonico</label>\n                    <input type=\"number\" className=\"formDataNew\" name=\"celular\" />\n                </div>\n                <div className=\"form\">\n                    <label htmlFor=\"direccion\" className=\"formData\">Dirección</label>\n                    <input type=\"text\" className=\"formDataNew\" name=\"direccion\" />\n                </div>\n                <button className='buttonConfirm' type=\"submit\">Generar Orden</button>\n            </form>\n        </div>\n    );\n}\n\nexport default Checkout;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}